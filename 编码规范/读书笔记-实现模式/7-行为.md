### 行为

> 计算是一系列依次执行的命令

控制流：依次执行的命令

- 主体流：程序控制流的主干。代表着业务的整体逻辑结构。
- 消息：用于激活一段子程序。可以理解为调用。
  - 选择性消息：在程序运行中才能明确激活的子程序。即多态消息。
  - 双重分发：在选择性消息的基础上的选择性消息。有两个层级的多态。
  - 分解性（序列性）消息：将主体流中的一部分逻辑提炼为一个方法，主体通过消息激活该方法。对应重构中的提炼函数（extract method）
  - 反置性消息：将调用其他类的方法包装到本类中，使得在主体流中无需用消息激活外部对象方法，而是激活本身方法即可。这可以让代码看起来更加具有对称性，但如果对同一个外部类的方法存在多个反置性消息，则需要考虑将该类引入本类中，作为一个内部类。
  - 邀请性消息：扩展点实现。我们先预留前置或者后置处理的hook
  - 解释性消息：将一段复杂表达式用具有解释性命名的方法包装，在表达式原有位置替换为用消息进行激活。
- 异常流：在不模糊主题的前提下尽可能清晰地表达这些异常路径。
  - 卫述句：即卫语句。出现异常后立即返回。相对于嵌套的if else来说更加简洁易懂。有新增场景也容易覆盖。
  - 异常：当不使用异常会使主体流的逻辑发送混淆时，应当使用异常。异常的代价在于影响了所有调用包含异常的方法的设计和实现。
    - 已检查异常：程序员自己定义并抛出的异常。用于对非主体流的逻辑进行表述。
    - 异常传播：用日志打印底层级的异常，用高层的异常包住低层级的异常，用来表述异常出现的场景以及解决方案。



小结：

- 印象最深的的内容：尽可能使用序列、消息、迭代和条件来表达控制流，但当不使用异常会令主题流的表达变混淆的时候，则应该使用异常。
- 让你联想到什么/感受是怎样的：异常的使用有好有坏。除了用性能衡量外，其对逻辑结构相较于其他方式的更低的侵染性也是需要关注的。
- 对你有什么影响：不论是重构亦或是其他场景，要去思考代码的整洁性，也要去思考代码的性能。
- 你计划怎么应用：在实际编码过程中，遇到需要抛出异常的情况，反复思考一下抛出异常的合理性以及如果不抛出异常又可以用什么方式表达逻辑，同时列出这种方式本身与异常在实际场景下的优缺点。